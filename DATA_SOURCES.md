# ğŸ“Š Nguá»“n Dá»¯ Liá»‡u Báº¥t Äá»™ng Sáº£n

HÆ°á»›ng dáº«n chi tiáº¿t cÃ¡c nguá»“n dá»¯ liá»‡u vÃ  cÃ¡ch tÃ­ch há»£p vÃ o chatbox.

## ğŸŒ CÃ´ng Khai & Miá»…n PhÃ­

### 1. Dá»¯ Liá»‡u Quá»‘c Gia
- **Tá»•ng Cá»¥c Thá»‘ng KÃª (GSO)**: https://www.gso.gov.vn
  - Dá»¯ liá»‡u kinh táº¿ vÄ© mÃ´, giÃ¡ cáº£
  - TÃ¢m ly dÃ¢n cÆ°, khu vá»±c
  
- **Bá»™ XÃ¢y Dá»±ng**: https://www.moc.gov.vn
  - Quy Ä‘á»‹nh xÃ¢y dá»±ng
  - TiÃªu chuáº©n BÄS
  - Luáº­t phÃ¡p báº¥t Ä‘á»™ng sáº£n

### 2. Dá»¯ Liá»‡u Dá»± Ãn
- **Hiepxaydung.vn**: https://www.hiepxaydung.vn
  - Danh sÃ¡ch dá»± Ã¡n
  - Tiáº¿n Ä‘á»™ dá»± Ã¡n
  - ThÃ´ng tin chá»§ Ä‘áº§u tÆ°

- **Batdongsan.com.vn**: https://batdongsan.com.vn
  - Danh sÃ¡ch tin rao bÃ¡n
  - GiÃ¡ thá»‹ trÆ°á»ng
  - Dá»± Ã¡n phÃ¡t triá»ƒn

- **Nhadat.com.vn**: https://nhadat.com.vn
  - Tin tá»©c báº¥t Ä‘á»™ng sáº£n
  - GiÃ¡ tham kháº£o
  - PhÃ¢n tÃ­ch thá»‹ trÆ°á»ng

### 3. Dá»¯ Liá»‡u PhÃ¡p LÃ½
- **ThÆ° Viá»‡n Luáº­t**: https://thuvienphapluat.vn
  - VÄƒn báº£n phÃ¡p luáº­t
  - Quy Ä‘á»‹nh báº¥t Ä‘á»™ng sáº£n
  - Máº«u há»£p Ä‘á»“ng

- **Cá»•ng TPHCM**: https://hochiminh.gov.vn
  - Quyáº¿t Ä‘á»‹nh Ä‘á»‹a phÆ°Æ¡ng
  - Quy hoáº¡ch
  - CÃ¡c thÃ´ng tÆ°, chá»‰ thá»‹

### 4. Dá»¯ Liá»‡u GiÃ¡
- **NgÃ¢n HÃ ng PhÃ¡t Triá»ƒn ChÃ¢u Ã (ADB)**: https://www.adb.org
  - Dá»¯ liá»‡u kinh táº¿ khu vá»±c
  - PhÃ¢n tÃ­ch báº¥t Ä‘á»™ng sáº£n

- **IMF World Economic Outlook**: https://www.imf.org/en/Publications/WEO
  - Dá»± bÃ¡o kinh táº¿
  - Tá»· giÃ¡, lÃ£i suáº¥t

## ğŸ’° Tráº£ PhÃ­

### 1. CÆ¡ Sá»Ÿ Dá»¯ Liá»‡u ThÆ°Æ¡ng Máº¡i
- **Knight Frank Vietnam**: https://www.knightfrank.com.vn
  - Market Report hÃ ng quÃ½
  - Dá»¯ liá»‡u giÃ¡ chi tiáº¿t
  - PhÃ¢n tÃ­ch xu hÆ°á»›ng

- **Savills Vietnam**: https://www.savills.com.vn
  - BÃ¡o cÃ¡o thá»‹ trÆ°á»ng
  - Dá»¯ liá»‡u giao dá»‹ch
  - Dá»± bÃ¡o

- **CBRE Vietnam**: https://www.cbre.com.vn
  - Market insights
  - Investment advisory
  - Transaction database

### 2. API Dá»¯ Liá»‡u
- **BÄS API (Batdongsan.com.vn)**
  - Cáº§n Ä‘Äƒng kÃ½ API key
  - Giá»›i háº¡n request hÃ ng ngÃ y
  - Tráº£ phÃ­ tÃ¹y theo package

- **ZingScore**: https://zingscore.com
  - Dá»¯ liá»‡u báº¥t Ä‘á»™ng sáº£n lá»‹ch sá»­
  - API cÃ³ sáºµn
  - Tráº£ phÃ­

## ğŸ“¥ CÃ¡ch TÃ­ch Há»£p Dá»¯ Liá»‡u

### BÆ°á»›c 1: Thu Tháº­p Dá»¯ Liá»‡u
```bash
# VÃ­ dá»¥: Táº£i dá»¯ liá»‡u tá»« API
curl https://api.example.com/properties?token=YOUR_TOKEN > data.json

# Hoáº·c: Sao chÃ©p ná»™i dung tá»« website
# Copy dá»¯ liá»‡u tá»« báº£ng â†’ Paste vÃ o file
```

### BÆ°á»›c 2: Chuáº©n HÃ³a Äá»‹nh Dáº¡ng
```json
[
  {
    "content": "Ná»™i dung tÃ i liá»‡u hoÃ n chá»‰nh",
    "metadata": {
      "source": "TÃªn nguá»“n",
      "type": "dá»± Ã¡n/giÃ¡/phÃ¡p lÃ½",
      "date": "2025-01-06",
      "region": "HÃ  Ná»™i",
      "category": "Residential/Commercial"
    }
  }
]
```

### BÆ°á»›c 3: Äáº·t vÃ o `datasets/`
```
datasets/
â”œâ”€â”€ api_data_2025.json
â”œâ”€â”€ market_analysis.txt
â”œâ”€â”€ legal_docs.pdf
â””â”€â”€ projects_list.xlsx (convert to json/txt)
```

### BÆ°á»›c 4: Táº¡o Láº¡i Knowledge Base
```bash
# VÃ o giao diá»‡n chatbox
# Click "CÆ¡ sá»Ÿ dá»¯ liá»‡u" â†’ "Táº¡o láº¡i tá»« TÃ i liá»‡u"

# Hoáº·c qua API
curl -X POST http://localhost:5000/api/init-knowledge-base
```

## ğŸ”„ Cáº­p Nháº­t Dá»¯ Liá»‡u Äá»‹nh Ká»³

### Script Python Tá»± Äá»™ng
```python
# auto_update.py
import requests
import json
from datetime import datetime

def fetch_market_data():
    """Fetch data tá»« API"""
    url = "https://api.example.com/properties"
    response = requests.get(url, headers={"Authorization": "Bearer TOKEN"})
    data = response.json()
    
    # LÆ°u vá»›i timestamp
    filename = f"datasets/market_data_{datetime.now().date()}.json"
    with open(filename, 'w') as f:
        json.dump(data, f, indent=2)
    
    print(f"âœ… Data saved to {filename}")

def reinit_kb():
    """Táº¡o láº¡i knowledge base"""
    response = requests.post("http://localhost:5000/api/init-knowledge-base")
    print(response.json())

if __name__ == "__main__":
    fetch_market_data()
    reinit_kb()
```

### Cháº¡y Script Äá»‹nh Ká»³
```bash
# Windows - Task Scheduler
# Táº¡o task cháº¡y auto_update.py hÃ ng ngÃ y lÃºc 2:00 AM

# Linux/Mac - Cron Job
# ThÃªm vÃ o crontab:
0 2 * * * cd /path/to/project && python auto_update.py
```

## ğŸ“Š CÃ¡c Loáº¡i Dá»¯ Liá»‡u Cáº§n Thiáº¿t

### 1. Dá»¯ Liá»‡u Dá»± Ãn (Projects)
```json
{
  "name": "TÃªn dá»± Ã¡n",
  "location": "Vá»‹ trÃ­",
  "developer": "Chá»§ Ä‘áº§u tÆ°",
  "type": "Residential/Commercial/Mixed",
  "price_range": "Khoáº£ng giÃ¡",
  "status": "Planning/Construction/Completed",
  "amenities": ["Tiá»‡n Ã­ch"],
  "description": "MÃ´ táº£ chi tiáº¿t"
}
```

### 2. Dá»¯ Liá»‡u GiÃ¡ (Pricing)
```json
{
  "region": "Khu vá»±c",
  "district": "Quáº­n/Huyá»‡n",
  "property_type": "Loáº¡i BÄS",
  "avg_price": "GiÃ¡ trung bÃ¬nh",
  "price_range": "Khoáº£ng giÃ¡",
  "price_per_sqm": "GiÃ¡/mÂ²",
  "date": "NgÃ y cáº­p nháº­t",
  "trend": "TÄƒng/Giáº£m/á»”n Ä‘á»‹nh"
}
```

### 3. Dá»¯ Liá»‡u PhÃ¡p LÃ½ (Legal)
```json
{
  "title": "TiÃªu Ä‘á» quy Ä‘á»‹nh",
  "content": "Ná»™i dung Ä‘áº§y Ä‘á»§",
  "effective_date": "NgÃ y cÃ³ hiá»‡u lá»±c",
  "document_type": "Luáº­t/Quy Ä‘á»‹nh/ThÃ´ng tÆ°",
  "issuer": "CÆ¡ quan phÃ¡t hÃ nh",
  "status": "Hiá»‡u lá»±c/BÃ£i bá»"
}
```

### 4. Dá»¯ Liá»‡u Giao Dá»‹ch (Transactions)
```json
{
  "property_type": "Loáº¡i BÄS",
  "area_size": "Diá»‡n tÃ­ch",
  "transaction_price": "GiÃ¡ giao dá»‹ch",
  "price_per_sqm": "GiÃ¡/mÂ²",
  "district": "Quáº­n/Huyá»‡n",
  "date": "NgÃ y giao dá»‹ch",
  "trend": "Xu hÆ°á»›ng"
}
```

## âš ï¸ Quy Äá»‹nh PhÃ¡p LÃ½

### Sá»­ Dá»¥ng Dá»¯ Liá»‡u An ToÃ n
- âœ… Dá»¯ liá»‡u cÃ´ng khai tá»« chÃ­nh phá»§
- âœ… Dá»¯ liá»‡u cÃ³ giáº¥y phÃ©p sá»­ dá»¥ng
- âœ… Dá»¯ liá»‡u tá»± thu tháº­p, kháº£o sÃ¡t
- âŒ Dá»¯ liá»‡u báº£n quyá»n mÃ  chÆ°a Ä‘Æ°á»£c cáº¥p phÃ©p
- âŒ Dá»¯ liá»‡u cÃ¡ nhÃ¢n khÃ´ng Ä‘Æ°á»£c cÃ´ng khai
- âŒ Dá»¯ liá»‡u vi pháº¡m quyá»n riÃªng tÆ°

### Ghi Nguá»“n Dá»¯ Liá»‡u
LuÃ´n ghi rÃµ:
```
Nguá»“n: [TÃªn Tá»• Chá»©c]
Link: [URL náº¿u cÃ³]
NgÃ y cáº­p nháº­t: [NgÃ y]
Giáº¥y phÃ©p: [CC-BY, Public Domain, v.v.]
```

## ğŸ¯ Æ¯u TiÃªn Dá»¯ Liá»‡u

### Cao (Æ¯u TiÃªn TÃ­ch Há»£p Ngay)
1. Quy Ä‘á»‹nh phÃ¡p lÃ½ má»›i nháº¥t
2. Dá»¯ liá»‡u giÃ¡ thá»‹ trÆ°á»ng hiá»‡n táº¡i
3. Dá»± Ã¡n phÃ¡t triá»ƒn má»›i
4. HÆ°á»›ng dáº«n Ä‘á»‹nh giÃ¡

### Trung BÃ¬nh
5. Lá»‹ch sá»­ giao dá»‹ch 3-6 thÃ¡ng qua
6. PhÃ¢n tÃ­ch thá»‹ trÆ°á»ng
7. ThÃ´ng tin tiá»‡n Ã­ch khu vá»±c

### Tháº¥p
8. Dá»¯ liá»‡u lá»‹ch sá»­ > 1 nÄƒm
9. Thá»‘ng kÃª quá»‘c gia
10. TÃ i liá»‡u tham kháº£o lá»‹ch sá»­

## ğŸ“ˆ Cáº£i Thiá»‡n Cháº¥t LÆ°á»£ng Dá»¯ Liá»‡u

### LÃ m Sáº¡ch Dá»¯ Liá»‡u
```python
import pandas as pd
import re

def clean_data(df):
    # Loáº¡i bá» dÃ²ng trá»‘ng
    df = df.dropna()
    
    # Chuáº©n hÃ³a giÃ¡
    df['price'] = df['price'].str.replace('[,.]', '', regex=True)
    
    # Chuáº©n hÃ³a Ä‘á»‹a chá»‰
    df['address'] = df['address'].str.strip().str.title()
    
    return df

# Sá»­ dá»¥ng
df = pd.read_csv('raw_data.csv')
df_clean = clean_data(df)
df_clean.to_json('datasets/cleaned_data.json', orient='records')
```

### XÃ¡c Thá»±c Dá»¯ Liá»‡u
```python
def validate_data(item):
    """Kiá»ƒm tra dá»¯ liá»‡u há»£p lá»‡"""
    required_fields = ['content', 'metadata']
    
    for field in required_fields:
        if field not in item:
            return False
    
    # Kiá»ƒm tra content khÃ´ng trá»‘ng
    if not item['content'].strip():
        return False
    
    # Kiá»ƒm tra metadata cÃ³ key tá»‘i thiá»ƒu
    if 'source' not in item['metadata']:
        return False
    
    return True
```

## ğŸš€ TÃ­ch Há»£p Tá»± Äá»™ng

### Webhook Integration
```python
@app.route('/webhook/market-update', methods=['POST'])
def webhook_market_update():
    """Nháº­n dá»¯ liá»‡u cáº­p nháº­t tá»« webhook"""
    data = request.json
    
    # LÆ°u dá»¯ liá»‡u
    with open('datasets/webhook_update.json', 'a') as f:
        f.write(json.dumps(data) + '\n')
    
    # Táº¡o láº¡i KB
    # os.system('python update_kb.py')
    
    return jsonify({'status': 'received'})
```

## ğŸ“š TÃ i Liá»‡u Tham Kháº£o

- HÆ°á»›ng dáº«n API BÄS: https://batdongsan.com.vn/api-docs
- Python Data Analysis: https://pandas.pydata.org
- Luáº­t báº¥t Ä‘á»™ng sáº£n VN: https://thuvienphapluat.vn/searched/bat+dong+san

---

**Cáº­p nháº­t**: 2025-01-06  
**Version**: 1.0
